<view class="register-container {{settings.bigFont ? 'big-font' : ''}}">
  <navigation-bar title="注册" back="{{true}}" background="transparent"></navigation-bar>
  
  <scroll-view class="scrollarea" scroll-y>
    <view class="page-header">
    <text class="page-title">加入智享养老</text>
    <text class="page-subtitle">开启您的智慧养老新生活</text>
  </view>

  <view class="register-content" style="width: 654rpx; height: 1545rpx; display: block; box-sizing: border-box">
    <!-- 类型选择 -->
    <view class="type-selector-section">
      <text class="section-label">请选择您的身份</text>
      <view class="type-options" style="width: 654rpx; height: 250rpx; display: flex; box-sizing: border-box">
        <view class="type-option-card {{registerType === 'elder' ? 'active' : ''}}" bindtap="selectRegisterType" data-type="elder" style="width: 320rpx; height: 250rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 3rpx; position: relative">
          <view class="option-icon">👴</view>
          <view class="option-info">
            <text class="option-title">长辈模式</text>
            <text class="option-desc">操作简单 字大清晰</text>
          </view>
          <view class="check-mark" wx:if="{{registerType === 'elder'}}">✓</view>
        </view>
        
        <view class="type-option-card {{registerType === 'child' ? 'active' : ''}}" bindtap="selectRegisterType" data-type="child" style="position: relative; left: -6rpx; top: 6rpx; width: 304rpx; height: 243rpx; display: flex; box-sizing: border-box">
          <view class="option-icon">📱</view>
          <view class="option-info">
            <text class="option-title">子女模式</text>
            <text class="option-desc">远程关爱 实时提醒</text>
          </view>
          <view class="check-mark" wx:if="{{registerType === 'child'}}">✓</view>
        </view>
      </view>
    </view>

    <!-- 注册表单 -->
    <view class="form-card card" style="width: 664rpx; height: 1202rpx; display: block; box-sizing: border-box">
      <view class="input-group">
        <text class="input-label">账号</text>
        <view class="input-wrap">
          <view class="field-icon">👤</view>
          <input class="input-field" placeholder="请设置登录账号" bindinput="onAccountInput" value="{{account}}" placeholder-class="input-placeholder" />
        </view>
      </view>

      <view class="input-group">
        <text class="input-label">您的姓名/昵称</text>
        <view class="input-wrap">
          <view class="field-icon">🏷️</view>
          <input class="input-field" placeholder="怎么称呼您？" bindinput="onNicknameInput" value="{{nickname}}" placeholder-class="input-placeholder" />
        </view>
      </view>

      <view class="input-group">
        <text class="input-label">手机号码</text>
        <view class="input-wrap">
          <view class="field-icon">📞</view>
          <input class="input-field" placeholder="请输入手机号码" type="number" bindinput="onPhoneInput" value="{{phone}}" placeholder-class="input-placeholder" maxlength="11" />
        </view>
      </view>



      <view class="input-group">
        <text class="input-label">设置密码</text>
        <view class="input-wrap">
          <view class="field-icon">🔒</view>
          <input class="input-field" placeholder="请设置登录密码" password="{{!showPassword}}" bindinput="onPasswordInput" value="{{password}}" placeholder-class="input-placeholder" />
          <view class="password-toggle" bindtap="togglePassword">
            <text class="toggle-icon">{{showPassword ? '👁️' : '👁️‍🗨️'}}</text>
          </view>
        </view>
      </view>

      <view class="input-group">
        <text class="input-label">确认密码</text>
        <view class="input-wrap">
          <view class="field-icon">🛡️</view>
          <input class="input-field" placeholder="请再次确认密码" password="{{!showConfirmPassword}}" bindinput="onConfirmPasswordInput" value="{{confirmPassword}}" placeholder-class="input-placeholder" />
          <view class="password-toggle" bindtap="toggleConfirmPassword">
            <text class="toggle-icon">{{showConfirmPassword ? '👁️' : '👁️‍🗨️'}}</text>
          </view>
        </view>
      </view>

      <button class="btn btn-primary register-submit-btn" bindtap="register" hover-class="btn-hover">
        立即注册
      </button>

      <view class="login-prompt">
        <text>已有账号？</text>
        <text class="login-link-text" bindtap="navigateToLogin">返回登录</text>
      </view>
    </view>
  </view>

  <view class="register-footer">
    <view class="agreement-section">
      <view class="checkbox-container" bindtap="toggleAgreement" style="height: 135rpx; display: flex; box-sizing: border-box; width: 666rpx">
        <view class="checkbox {{agreed ? 'checked' : ''}}">
          <text class="checkmark" wx:if="{{agreed}}">✓</text>
        </view>
        <text class="agreement-text">我已阅读并同意 <text class="link" bindtap="navigateToAgreement">《用户协议》</text> 和 <text class="link" bindtap="navigateToPrivacy">《隐私政策》</text></text>
      </view>
    </view>
  </view>
</scroll-view>
</view>