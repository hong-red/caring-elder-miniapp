<navigation-bar title="{{isEdit ? '修改联系人' : '添加联系人'}}" back="{{true}}"></navigation-bar>
<scroll-view class="scrollarea" scroll-y>
  <view class="nav-placeholder" style="height: {{navHeight}}px;"></view>
  <view class="container {{settings.bigFont ? 'big-font' : ''}}">
    <view class="content" style="height: 1562rpx; display: block; box-sizing: border-box">
    <form class="bind-form card">
      <view class="form-section">
        <view class="section-header">
          <text class="section-title">基本信息</text>
          <view class="import-btn" bindtap="importFromWeChat">
            <text class="import-icon">📲</text>
            <text class="import-text">从通讯录导入</text>
          </view>
        </view>
        <view class="form-item">
          <text class="form-label required">姓名</text>
          <input class="form-input" placeholder="请输入联系人姓名" bindinput="onNameInput" value="{{formData.name}}" />
        </view>
        <view class="form-item">
          <text class="form-label required">与您的关系</text>
          <picker class="form-picker" bindchange="onRelationChange" value="{{relationIndex}}" range="{{relationOptions}}">
            <view class="picker-content">{{relationOptions[relationIndex]}}</view>
          </picker>
        </view>
        <view class="form-item">
          <text class="form-label">手机号</text>
          <input class="form-input" placeholder="请输入联系人手机号" bindinput="onPhoneInput" value="{{formData.phone}}" type="number" />
        </view>

        <view class="tip-section">
          <text class="tip-text">💡 提示：添加后，您可以随时在通讯录中查看联系人的基本信息和健康动态。</text>
        </view>
      </view>
      
      <view class="form-section">
        <text class="section-title">更多信息 (可选)</text>
        <view class="form-item">
          <text class="form-label">出生日期</text>
          <input class="form-input" placeholder="YYYY-MM-DD" bindinput="onBirthInput" value="{{formData.birthday}}" />
        </view>
        <view class="form-item">
          <text class="form-label">身高 (cm)</text>
          <input class="form-input" placeholder="请输入身高" bindinput="onHeightInput" value="{{formData.height}}" type="number" />
        </view>
        <view class="form-item">
          <text class="form-label">体重 (kg)</text>
          <input class="form-input" placeholder="请输入体重" bindinput="onWeightInput" value="{{formData.weight}}" type="number" />
        </view>
      </view>
      
      <view class="form-actions">
        <button class="btn btn-secondary" bindtap="navigateBack">取消</button>
        <button class="btn btn-primary" form-type="submit" bindtap="submitForm">确认{{isEdit ? '修改' : '添加'}}</button>
      </view>
    </form>
    
    <view class="tips-card card">
      <text class="tips-title">添加说明</text>
      <text class="tips-content">• 添加后可便捷查看亲友联系方式</text>
      <text class="tips-content">• 如果亲友也使用本程序，可同步健康数据</text>
      <text class="tips-content">• 您可以随时删除或修改联系人信息</text>
    </view>
    </view>
  </view>
</scroll-view>

